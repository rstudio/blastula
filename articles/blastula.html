<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started • blastula</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet">
<link href="../rmd.css" rel="stylesheet">
<meta property="og:title" content="Getting Started">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script><!-- javascript assets for rmarkdown --><script src="../ace-1.2.3/ace.js" type="text/javascript" charset="utf-8"></script><script src="../holder-2.9.0/holder.min.js" type="text/javascript" charset="utf-8"></script><script src="../snippets/snippets.js" type="text/javascript" charset="utf-8"></script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">blastula</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.5.9000</span>
      </span>

      <!--<div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">blastula</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of  <a href=""></a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.5.9000</span>
        </div>
      </div>-->
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/blastula.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Examples

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://solutions.rstudio.com/r/blastula/" class="external-link">Custom Emails with R Markdown and Blastula</a>
    </li>
    <li>
      <a href="https://solutions.rstudio.com/r/blastula/conditional-example/" class="external-link">Customized Conditional Emails with Posit Connect</a>
    </li>
    <li>
      <a href="https://solutions.rstudio.com/data-science-admin/scheduling/" class="external-link">Scheduling Data Science Tasks</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/sending_using_smtp.html">Sending Email Using SMTP</a>
    </li>
  </ul>
</li>
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../news/index.html">Changelog</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Blog posts</li>
    <li>
      <a href="https://blog.rstudio.com/2019/12/05/emails-from-r-blastula-0-3/" class="external-link">Version 0.3</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/rstudio/blastula" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/blastula/blob/master/vignettes/blastula.Rmd" class="external-link"><code>vignettes/blastula.Rmd</code></a></small>
      <div class="hidden name"><code>blastula.Rmd</code></div>

    </div>

    
    
<p>Before we get to the process of creating an HTML email message, it’s
a good idea to learn about the model of such a message in
<strong>blastula</strong>. Here is a diagram, and it doesn’t contain too
many layout components (because simplicity in HTML email is a good
thing).</p>
<p><br></p>
<p><img src="images/html_email_model.png" width="100%"></p>
<p><br></p>
<p>The main components (from top to bottom) are the
<strong>header</strong>, the <strong>body</strong>, and the
<strong>footer</strong>. The <strong>body</strong> content is inside of
a wrapper that functions to differentiate the main content from whatever
is in the <strong>header</strong> and <strong>footer</strong> (above and
below the <strong>body</strong>).</p>
<p>Another thing to note is that the HTML used is responsive. Viewing
the HTML in a viewport that is greater than or equal to 640 pixels will
be different than seeing it with a viewport that’s smaller. This is
important because email on mobile devices will often take on the latter
view, which is optimized for smaller display widths (e.g., larger font
sizes, decreased vertical space between elements, resized images,
etc.).</p>
<p>When using <strong>blastula</strong>, we don’t have to worry much
about either view since the API is designed to make emails look their
best in both of them. Because we can preview the email message before
sending it out, we have a chance to manually resize the browser and
inspect the message in a variety of display widths.</p>
<div class="section level2">
<h2 id="creating-a-simple-html-email-message">Creating a Simple HTML Email Message<a class="anchor" aria-label="anchor" href="#creating-a-simple-html-email-message"></a>
</h2>
<p>For those times where we’d only want to send a simple HTML email
message, we can use the <code><a href="../reference/compose_email.html">compose_email()</a></code> function and focus
on adding text content to the <strong>body</strong> component. So let’s
create a simple email message using some plain text inside
<code>body</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/compose_email.html">compose_email</a></span><span class="op">(</span></span>
<span>  body <span class="op">=</span> </span>
<span><span class="st">"Hello,</span></span>
<span><span class="st"></span></span>
<span><span class="st">I just wanted to let you know that the thing that you asked me for is ready to pick up. So, come over and do that.</span></span>
<span><span class="st"></span></span>
<span><span class="st">Cheers</span></span>
<span><span class="st">"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/compose_simple-wide.png" width="100%"></p>
<p><img src="images/compose_simple-narrow.png" width="100%"></p>
<p align="center">
This is how it looks, depending on the display width (wide at top,
narrow below that).
</p>
<p><br></p>
<p>A preview of the HTML email message should appear in the Viewer. Try
resizing the Viewer to see how it responds to the different width
thresholds.</p>
</div>
<div class="section level2">
<h2 id="more-sophisticated-email-text">More Sophisticated Email Text<a class="anchor" aria-label="anchor" href="#more-sophisticated-email-text"></a>
</h2>
<p>A good strategy for longer and more complicated text inputs is to use
the <a href="https://glue.tidyverse.org" class="external-link"><strong>glue</strong></a>
package. That package allows us to use string interpolation (and avoid
the use of <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code> or <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code>). Variables in
the global workspace can be included in the curly braces of a
<code>glue()</code> string expression, and, any <strong>R</strong>
expressions in <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{ }</a></code> will be evaluated.</p>
<p>We can include longer <strong>R</strong> statements inside of the
curly braces (like
<code>{paste0(format(Sys.time(), "%A, %B "), format(Sys.time(), "%d") %&gt;% as.numeric(), ", ", format(Sys.time(), "%Y"))}</code>),
however, that would be unwieldy. It’s better to generate local variables
with <strong>R</strong> statements and just use those variables inside
the <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{ }</a></code>.</p>
<p>Here is an example of the same email message body as in the last
example, but using <strong>glue</strong> to preprocess our text:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">what</span> <span class="op">&lt;-</span> <span class="st">"thing"</span></span>
<span><span class="va">salutation</span> <span class="op">&lt;-</span> <span class="st">"Cheers"</span></span>
<span></span>
<span><span class="va">body_text</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">glue</span><span class="op">(</span></span>
<span>    <span class="st">"</span></span>
<span><span class="st">Hello,</span></span>
<span><span class="st"></span></span>
<span><span class="st">I just wanted to let you know that the {what}</span></span>
<span><span class="st">that you asked me for is ready to pick up. So,</span></span>
<span><span class="st">come over and do that.</span></span>
<span><span class="st"></span></span>
<span><span class="st">{salutation}</span></span>
<span><span class="st">"</span>   </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/compose_email.html">compose_email</a></span><span class="op">(</span>body <span class="op">=</span> <span class="va">body_text</span><span class="op">)</span></span></code></pre></div>
<p>Any literal quotation marks inside the braces should be escaped using
a single <code>\</code>. Blank lines separating blocks of text result in
new paragraphs.</p>
</div>
<div class="section level2">
<h2 id="using-markdown-text-via-the-md-function">Using Markdown Text via the <code>md()</code> Function<a class="anchor" aria-label="anchor" href="#using-markdown-text-via-the-md-function"></a>
</h2>
<p>Markdown text can be used as input for the <code>body</code>,
<code>header</code>, and <code>footer</code> arguments. To opt into
using Markdown formatting, call the <code><a href="../reference/md.html">md()</a></code> text helper
function on any of these text elements. We can use the usual
Markdown-formatting you know and you’ll get italicized text, bold text,
lists, links, etc. Have a look at <a href="https://commonmark.org/help/" class="external-link">this reference page</a> to quickly
understand how to use Markdown. The <strong>blastula</strong> package
internally uses the <strong>commonmark</strong> <strong>R</strong>
package to perform the conversion from Markdown to HTML.</p>
<p>A few notes on code style and options. It’s good to left-align the
text in the code example since it will reduce the risk of having four or
more spaces after a line break, which will result in
<code>text like this</code> when using Markdown formatting through
<code><a href="../reference/md.html">md()</a></code>.</p>
<p>In the next example, let’s first store the result of that statement
in a local variable (<code>sending_date</code>). Then, the variable will
be placed in the <strong>footer</strong> of the message (using the
<code>footer</code> argument) along with leading text.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare the text inputs</span></span>
<span><span class="va">sender_name</span> <span class="op">&lt;-</span> <span class="st">"Shelly"</span></span>
<span></span>
<span><span class="va">sending_date</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%A, %B "</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%d"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="st">", "</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%Y"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate the body text</span></span>
<span><span class="va">body_text</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/md.html">md</a></span><span class="op">(</span><span class="fu">glue</span><span class="op">(</span></span>
<span>    <span class="st">"</span></span>
<span><span class="st">Hello,</span></span>
<span><span class="st"></span></span>
<span><span class="st">I just wanted to let you know that the *thing* that</span></span>
<span><span class="st">you asked me for is ready to pick up. So, come over</span></span>
<span><span class="st">and do that.</span></span>
<span><span class="st"></span></span>
<span><span class="st">Cheers,</span></span>
<span><span class="st"></span></span>
<span><span class="st">{sender_name}</span></span>
<span><span class="st">"</span>    </span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate the footer text</span></span>
<span><span class="va">footer_text</span> <span class="op">&lt;-</span> <span class="fu">glue</span><span class="op">(</span><span class="st">"Sent on {sending_date}."</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compose the email message</span></span>
<span><span class="fu"><a href="../reference/compose_email.html">compose_email</a></span><span class="op">(</span></span>
<span>  body <span class="op">=</span> <span class="va">body_text</span>,</span>
<span>  footer <span class="op">=</span> <span class="va">footer_text</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="images/compose_interpolation_stmt-wide.png" width="100%"></p>
<p align="center">
Complicated string formatting goes into variables, the variables go into
the email components
</p>
<p><br></p>
<p>Content in the <strong>footer</strong> and <strong>header</strong>
sections is styled differently than <strong>body</strong> content
(<strong>footer</strong> text will be somewhat smaller for one thing).
The main message typically goes into the <strong>body</strong> whereas
supplementary information works better in the
<strong>footer</strong>.</p>
</div>
<div class="section level2">
<h2 id="adding-an-image-to-an-email">Adding an Image to an Email<a class="anchor" aria-label="anchor" href="#adding-an-image-to-an-email"></a>
</h2>
<p>The <strong>blastula</strong> package has the
<code><a href="../reference/add_image.html">add_image()</a></code> function which allows one to add images to an
email message. What <code>add_image</code> does is generate an HTML
fragment (a piece of HTML that can be included in an HTML document) with
the image transformed to text (using Base64 encoding). Knowing that we
have an HTML fragment is important because it means we need to use the
<code><a href="../reference/md.html">md()</a></code> function to interpret the content as Markdown/HTML (a
Markdown parser will leave any HTML that it sees untouched).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare the image (as a text input)</span></span>
<span><span class="va">img_file_path</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>    <span class="st">"img"</span>, <span class="st">"rickenbacker_4001_1972.jpg"</span>,</span>
<span>    package <span class="op">=</span> <span class="st">"blastula"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_image.html">add_image</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">img_file_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate the body text</span></span>
<span><span class="va">body_text</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/md.html">md</a></span><span class="op">(</span><span class="fu">glue</span><span class="op">(</span></span>
<span>    <span class="st">"</span></span>
<span><span class="st">Hello,</span></span>
<span><span class="st"></span></span>
<span><span class="st">I just wanted to let you know that the **1972 Rickenbacker</span></span>
<span><span class="st">4001** is here to pick up. Here is a picture of it:</span></span>
<span><span class="st"></span></span>
<span><span class="st">{image}</span></span>
<span><span class="st"></span></span>
<span><span class="st">Cheers,</span></span>
<span><span class="st"></span></span>
<span><span class="st">{sender_name}</span></span>
<span><span class="st">"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compose the email message</span></span>
<span><span class="fu"><a href="../reference/compose_email.html">compose_email</a></span><span class="op">(</span>body <span class="op">=</span> <span class="va">body_text</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/compose_image-wide.jpg" width="100%"></p>
<p align="center">
Once you get the hang of <code><a href="../reference/add_image.html">add_image()</a></code>, this is really easy
</p>
<p><br></p>
<p>There’s also the <code><a href="../reference/add_ggplot.html">add_ggplot()</a></code> function which can add a
<strong>ggplot2</strong> plot object to a message body. Here’s an
example of how that works:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create the plot data</span></span>
<span><span class="va">variety</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, each <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span>
<span><span class="va">treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"high"</span>, <span class="st">"low"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">note</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">280</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">150</span>, <span class="fl">280</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">variety</span>, <span class="va">treatment</span>, <span class="va">note</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the plot</span></span>
<span><span class="va">gg</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">variety</span>, y <span class="op">=</span> <span class="va">note</span>, fill <span class="op">=</span> <span class="va">treatment</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Prepare the image (as a text input)</span></span>
<span><span class="va">gg_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_ggplot.html">add_ggplot</a></span><span class="op">(</span>plot_object <span class="op">=</span> <span class="va">gg</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate the body text</span></span>
<span><span class="va">body_text</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/md.html">md</a></span><span class="op">(</span><span class="fu">glue</span><span class="op">(</span></span>
<span>    <span class="st">"</span></span>
<span><span class="st">Hello,</span></span>
<span><span class="st"></span></span>
<span><span class="st">I just wanted to let you know that the *ggplot* you \\</span></span>
<span><span class="st">wanted to see is right here, in this email:</span></span>
<span><span class="st"></span></span>
<span><span class="st">{gg_image}</span></span>
<span><span class="st"></span></span>
<span><span class="st">Cheers,</span></span>
<span><span class="st"></span></span>
<span><span class="st">{sender_name}</span></span>
<span><span class="st">"</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compose the email message</span></span>
<span><span class="fu"><a href="../reference/compose_email.html">compose_email</a></span><span class="op">(</span>body <span class="op">=</span> <span class="va">body_text</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/compose_ggplot-wide.png" width="100%"></p>
<p align="center">
A ggplot in your email message
</p>
<p><br></p>
<p>I don’t know about you but I’d love to get a ggplot in <em>my</em>
email.</p>
</div>
<div class="section level2">
<h2 id="wrapping-up">Wrapping Up<a class="anchor" aria-label="anchor" href="#wrapping-up"></a>
</h2>
<p>We now know how to send really simple email messages with just some
text, and, slightly more complex messages including those with images
inside.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="tidyverse">
  <p>blastula is built for <strong>R Markdown</strong>, an ecosystem of packages for creating computational documents in R. Learn more at <a href="https://rmarkdown.rstudio.com" class="external-link">rmarkdown.rstudio.com</a>.</p>
</div>

<div class="author">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
